<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es">
<head>
<title>Expresiones regulares</title>
<LINK REL=StyleSheet HREF="estilos.css" TYPE="text/css" MEDIA=screen>
<meta http-equiv="Content-Type" content="text/html;" />
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="fondo.css">
<link rel="shortcut icon" href="cubo.ico">

</head>
<body  style="background-color:white;">
<script type="text/javascript"></script>



<script src="js/jquery.js"></script>
<script src="js/regulares.js"></script>
  <script src="js/jquery.dataTables.min.js"></script>
  <script src="js/buscador.js"></script>
  
<p>BÚSQUEDA Y REEMPLAZO</p>



<!-- las barras-->
<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'London')">BUSQUEDA</button>
  
</div>

<!-- cuadro de dialogos -->
<div id="London" class="tabcontent">
  
<tr>
			<input type="file" id="file-input" name="enviar" value=""/>
			<pre id="preview"></pre>

		</tr>
<P>


<br><br>
		<select name="" id="">
		
    <!-- <input type="button" name="envia" value="correo 1" onclick="remplazarCorreo();" />
    <input type="button" name="envia" value="Telefonos" onclick="buscarTel();" />
    <input type="button" name="envia" value="Buscar palabras dobles" onclick="palabrasDoble();" /> 
    <input type="button" name="envia" value="Fechas" onclick="buscarFecha();" />-->
		
		<!-- BOTONES -->
		<input type="button" name="envia" value="Correo" onclick="buscarCoreeo();" />
    <input type="button" name="envia" value="IP" onclick="buscarip();" />
    <input type="button" name="envia" value="Palabra" onclick="buscarlongitud();" />
    <input type="button" name="envia" value="No finalice" onclick="buscarnofinalice();" />
    <input type="button" name="envia" value="Palbra M" onclick="buscarM();" />
    <input type="button" name="envia" value="Comillas" onclick="buscarcomillas();" />
    <input type="button" name="envia" value="Url" onclick="buscarurl();" />
    <input type="button" name="envia" value="Fecha" onclick="buscarfechas();" />
    <input type="button" name="envia" value="Telefono" onclick="buscarnotelefono();" />
    <input type="button" name="envia" value="Codigo" onclick="buscarcodigoposatal();" />
    <input type="button" name="envia" value="Operaciones" onclick="buscaroperaciones();" />
    <input type="button" name="envia" value="Mayuscula" onclick="remplazarA();" />
    <input type="button" name="envia" value="Palabras Similares" onclick="palabrasDoble();" />
    <input type="button" name="envia" value="correo reemplazar" onclick="remplazarCorreo()";/>
    <input type="button" name="envia" value="Espacios Doble" onclick="espaciosDoble();" />
    <input type="button" name="envia" value="Remplazar Espacio" onclick="remplazar();" />
    <input type="button" name="envia" value="Remplazar Operaciones" onclick="remplazarMayuscula();" />
    <input type="button" name="envia" value="Quitar palabras Doble" onclick="remplazarPalabra();" />
		
		</select>
        <tr>
			<td><b></b></td>
			<td width="20"><input type="search" id="palabra" placeholder="Buscar" name="depto" size="20" required="" ></td>
		</tr>
		</tr>

		<br><br>
	<br><br>


	

</div>

<!-- cuadro de dialogos -->

<div id="Paris" class="tabcontent">
 
<tr>
			
	
		</tr>


		</tr>
		<br><br>
 		<input type="button" value="Remplazar Todo">
 		<p>Elegir formato de fecha </p>
 		<input type="checkbox" name="" id=""> DD/MM/AA
 		<input type="checkbox" name="" id=""> AA/MM/DD
 		<input type="checkbox" name="" id=""> Añadir Espacio 
 		
<br><br>
<input type="button" value="Cancelar">
<br><br>

<!--input type="Text" size="30"-->

</div>


<div id="Tokyo" class="tabcontent">
  

        <tr>
			<td><b></b></td>
			
		</tr>

	<P>
<tr>
			<td><b></b></td>
			
		</tr>


<P>

		<td></td><!-- no quitar es para acomodar los botones-->
			<td>
				<input type="submit" name="enviar" value="BUSCAR"/>
				<a href="PHP.php"><input type="button" id="cancelar" style="width: 64px; height:20px"  value="CERRA" /></a>
			</td>
		</tr>
</div>


<script>
function remplazarMayuscula(){
  var x = document.getElementById('preview');
    var find = '[a-z]{1,3}[-+*/()][a-z]{1,3}[=][a-zA-Z0-9]';
    reemplazo='a+x=c';
    var re = new RegExp(find, 'gi');

    //str = str.replace(re, '');
    var str = document.getElementById("preview").innerHTML;
    var txt = str.replace(re,reemplazo);
    document.getElementById("preview").innerHTML = txt;
  


}
function remplazarA(){
  var x = document.getElementById('preview');
    var find = 'A';
    reemplazo='a';
    var re = new RegExp(find, 'gi');

    //str = str.replace(re, '');
    var str = document.getElementById("preview").innerHTML;
    var txt = str.replace(re,reemplazo);
    document.getElementById("preview").innerHTML = txt;
  


}
function remplazar(){
  var x = document.getElementById('preview');
var find = ' ';
    reemplazo='';
    var re = new RegExp(find, 'g');

    //str = str.replace(re, '');
    var str = document.getElementById("preview").innerHTML;
    var txt = str.replace(re,reemplazo);
    document.getElementById("preview").innerHTML = txt;
  


}
function remplazarCorreo(){
  var x = document.getElementById('preview');
var find = 'eduardo@gmail.com';
    reemplazo='ray@gmail.com';
    var re = new RegExp(find, 'g');

    //str = str.replace(re, '');
    var str = document.getElementById("preview").innerHTML;
    var txt = str.replace(re,reemplazo);
    document.getElementById("preview").innerHTML = txt;
  


}
function buscarFecha(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]|(?:Jan|Mar|May|Jul|Aug|Oct|Dec)))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2]|(?:Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)(?:0?2|(?:Feb))\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9]|(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep))|(?:1[0-2]|(?:Oct|Nov|Dec)))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarip(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/(^[1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarlongitud(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/[a-zA-Z]{7,2000}/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
// /w \w
function buscarnofinalice(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/[a-z]{1,200}[^aeiou][a-z]{1,200}[b, d, f, g, h, j, k, l, m, n, ñ, p, q, r, s, t, v, x, y, z]{1,200}/,'gi')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarnotelefono(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/[^9|8|5][0-9]{10}/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarcomillas(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/(["'])([^"']+)[^\\]\1,?.*?/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarurl(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
// El código postal en España son cinco números. Los dos primeros van del 01 al 52 y los tres restantes pueden ser cualquier valor numérico

function buscarcodigoposatal(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/0[1-9][0-9]{3}|[1-4][0-9]{4}|5[0-2][0-9]{3}/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}

function buscarCoreeo(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/([a-zA-Z0-9._-]+@[a-zA-Z0-9]+\.[a-zA-Z0-9._-]+)/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarTel(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/[^9|8|5][0-9]{8}$/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function buscarfechas(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]|(?:Jan|Mar|May|Jul|Aug|Oct|Dec)))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2]|(?:Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)(?:0?2|(?:Feb))\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9]|(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep))|(?:1[0-2]|(?:Oct|Nov|Dec)))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}

// [M][^aeiou]{5,7}
function buscarM(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/\b[M][^aeiouAEIOU]\w+\b/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
// ([\\d.]+)|[-+*/()] ejemplo: 1000000.315+5.8/(6.0+1-8*2.0)
function buscaroperaciones(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/[a-z]{1,3}[-+*/()][a-z]{1,3}[=][a-zA-Z0-9]/,'gi')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
// (\b\w+\b)\s\1\b
function palabrasDoble (){
    var palabra = document.getElementById('palabra').value;
    var exp = new RegExp(/\sglo+bos?/, 'gi')
    var re = exp;

    var result= contenido.match(re);
    mostrarContenido(result);

}

function espaciosDoble(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/\s\s+/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}
function espacioExtra(){
var palabra = document.getElementById('palabra').value;
var exp = new RegExp(/(\.[a-z])/,'g')
var re = exp;

var result= contenido.match(re);
mostrarContenido(result);

}


var contenido = "";

function leerArchivo(e) {
  var archivo = e.target.files[0];
  if (!archivo) {
    return;
}
  var lector = new FileReader();
  lector.onload = function(e) {
    contenido = e.target.result;
    mostrarContenido(contenido);
};
  lector.readAsText(archivo);
}


function mostrarContenido(contenido) {
  var elemento = document.getElementById('preview');
  elemento.innerHTML = contenido;
}

document.getElementById('file-input')
  .addEventListener('change', leerArchivo, false);



function search_final(){
  
  var palabra = document.getElementById('palabra').value;
  buscar();
  /*var pos = occurrences(contenido, palabra);
  console.log(palabra, contenido);
  if(pos>0){
    alert( "Encontrado: " + pos + " veces");
  }else{
    alert("No Encontrado");
  }*/

}
function buscar(){
  var palabra = document.getElementById('palabra').value;
  
  
  var exp = new RegExp(palabra,'g')
var re = exp;
var result = contenido.replace(re, "<span class='buscado'>"+palabra+"</span>") ;
mostrarContenido(result);
}

function reemplazar(){
  var palabra = document.getElementById('palabra').value;
  var nueva_palabra=document.getElementById("nuevapalabra").value;
  
  var exp = new RegExp(palabra,'g')
var re = exp;
var result = contenido.replace(re, nueva_palabra) ;
mostrarContenido(result);
alert(reemplazar());
}



function occurrences(string, subString, allowOverlapping) {

    string += "";
    subString += "";
    var longitud = subString.length;
    if (subString.length <= 0) return (string.length + 1);

    var n = 0,
        pos = 0,
        step = allowOverlapping ? 1 : subString.length;

    while (true) {
        pos = parseFloat(string.indexOf(subString, pos));
        if (pos >= 0) {
            ++n;
            pos += parseFloat(step);
            
        } else break;
    }
    return n;
}

</script>

<script>
function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
}
</script>


  
     
</body>
<P>
<P>

</html> 